// –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–µ–ª–æ–∞–¥–µ—Ä
let pageLoaded = false;

function hidePreloader() {
  const preloader = document.getElementById('preloader');
  if (preloader) {
    preloader.style.opacity = '0';
    setTimeout(() => {
      preloader.style.display = 'none';
    }, 500);
  }
}

window.addEventListener('load', function() {
  pageLoaded = true;
  setTimeout(hidePreloader, 500);
  
  const sections = document.querySelectorAll('section');
  sections.forEach((section, index) => {
    setTimeout(() => {
      section.style.opacity = '1';
      section.style.transform = 'translateY(0)';
    }, 100 * index);
  });
});

setTimeout(() => {
  if (!pageLoaded) hidePreloader();
}, 3000);

// –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
function playSound(id) {
  const sound = document.getElementById(id);
  if (sound) {
    sound.currentTime = 0;
    sound.play().catch(e => console.log("Sound play prevented:", e));
  }
}

// –ß–∞—Ç
let chatVisible = false;
let terminalVisible = false;
let currentLang = 'ru';
let terminalUnlocked = false;
const TERMINAL_PASSWORD = "humo2025";

function toggleChat() {
  const chatBox = document.getElementById('chatBox');
  chatVisible = !chatVisible;
  
  if (chatVisible) {
    chatBox.classList.add('visible');
    document.getElementById('userInput').focus();
    playSound('sound-chat');
  } else {
    chatBox.classList.remove('visible');
  }
}

// –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
const multilingualContent = {
  ru: {
    // –ù–∞–≤–∏–≥–∞—Ü–∏—è
    "nav-inv": "–ò–∑–æ–±—Ä–µ—Ç–µ–Ω–∏—è",
    "nav-team": "–ö–æ–º–∞–Ω–¥–∞",
    "nav-about": "–û –∫–æ–º–ø–∞–Ω–∏–∏",
    "nav-contacts": "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
    "nav-solar": "–°–æ–ª–Ω–µ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è S1",
    
    // –û –∫–æ–º–ø–∞–Ω–∏–∏
    "title-about": "–û –∫–æ–º–ø–∞–Ω–∏–∏",
    "about-text": "Humo Corporation –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –≤ –æ–±–ª–∞—Å—Ç–∏ —Å–ø–∞—Å–µ–Ω–∏—è, –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏ –∏ —É–º–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.",
    
    // –ò–∑–æ–±—Ä–µ—Ç–µ–Ω–∏—è
    "title-inv": "–ò–∑–æ–±—Ä–µ—Ç–µ–Ω–∏—è",
    "drone-title": "–°–ø–∞—Å–∞—Ç–µ–ª—å–Ω—ã–π –¥—Ä–æ–Ω Q1",
    "drone-subtitle": "–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –ø–æ–º–æ—â–∏ –≤ —É—Å–ª–æ–≤–∏—è—Ö —Å—Ç–∏—Ö–∏–π–Ω—ã—Ö –±–µ–¥—Å—Ç–≤–∏–π",
    "feature1-title": "üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–≤–µ–¥—ã–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ–ª—ë—Ç",
    "feature1-text": "–ü–æ—Å–ª–µ —Å—Ç–∏—Ö–∏–π–Ω–æ–≥–æ –±–µ–¥—Å—Ç–≤–∏—è Q1 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ª–µ—Ç–∞–µ—Ç —Å –±–∞–∑—ã. –ö–∞–∂–¥–æ–º—É –¥—Ä–æ–Ω—É –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ –ø–æ–∏—Å–∫–∞.",
    "feature1-item1": "–û—Å–Ω–æ–≤–Ω–æ–π –∑—É–º-–∫–∞–º–µ—Ä–∞",
    "feature1-item2": "–¢–µ–ø–ª–æ–≤–∏–∑–æ—Ä",
    "feature1-item3": "AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∏–¥–µ–æ",
    "feature2-title": "ü§ñ –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç",
    "feature2-text": "–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –ø–æ—Ö–æ–∂–∏—Ö –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞:",
    "feature2-item1": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –≤–∏–¥–µ–æ (–æ—Ç 40%)",
    "feature2-item2": "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–≤–∏–∑–æ—Ä–æ–º (–¥–æ 80%)",
    "feature2-item3": "–§–∏–∫—Å–∞—Ü–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è",
    "feature3-title": "üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å",
    "feature3-text": "–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–µ–≥–æ:",
    "feature3-item1": "–°–±—Ä–æ—Å –∞–ø—Ç–µ—á–∫–∏ –∏ —Ä–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏–∏",
    "feature3-item2": "–ü–µ—Ä–µ–¥–∞—á–∞ —Å–∏–≥–Ω–∞–ª–∞ SOS",
    "feature3-item3": "–ó–∞–ø—É—Å–∫ —Å–∏–≥–Ω–∞–ª—å–Ω—ã—Ö —Ä–∞–∫–µ—Ç",
    "feature4-title": "üß† –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
    "feature4-text": "–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –¥–∏–Ω–∞–º–∏–∫ –ø–æ–∑–≤–æ–ª—è—é—Ç:",
    "feature4-item1": "–û–±—â–µ–Ω–∏–µ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º",
    "feature4-item2": "–£—Å–ø–æ–∫–æ–µ–Ω–∏–µ –≤ —à–æ–∫–æ–≤–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏",
    "feature4-item3": "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–æ –ø—Ä–∏–±—ã—Ç–∏—è –ø–æ–º–æ—â–∏",
    "spec1-name": "–ü–æ–ª—ë—Ç–Ω–æ–µ –≤—Ä–µ–º—è:",
    "spec1-value": "–¥–æ 1 —á–∞—Å–∞ 20 –º–∏–Ω—É—Ç",
    "spec2-name": "–†–∞–±–æ—á–∏–π —Ü–∏–∫–ª:",
    "spec2-value": "50 –º–∏–Ω –ø–æ–ª—ë—Ç–∞ + –≤–æ–∑–≤—Ä–∞—Ç",
    "spec3-name": "–ü–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞:",
    "spec3-value": "–¥–æ 7 –∫–≥",
    "spec4-name": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å:",
    "spec4-value": "–¥–æ 18 –∫–≥",
    "spec5-name": "–ú–æ–¥—É–ª–∏ —Å–≤—è–∑–∏:",
    "spec5-value": "GPS, —Ä–∞–¥–∏–æ–∫–∞–Ω–∞–ª, —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è",
    "spec6-name": "–°–∏–≥–Ω–∞–ª—å–Ω—ã–µ —Ä–∞–∫–µ—Ç—ã:",
    "spec6-value": "3 –Ω–∞ –¥—Ä–æ–Ω",
    "benefit1": "–î–µ—à–µ–≤–ª–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–µ–µ, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Ç–æ–ª—ë—Ç–æ–≤",
    "benefit2": "–ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ç—Ä—É–¥–Ω–æ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–æ–Ω–∞—Ö",
    "benefit3": "–ì—Ä—É–ø–ø–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –æ—Ç 10 –¥–æ 20 –¥—Ä–æ–Ω–æ–≤ –º–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ",
    "benefit4": "–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –±–µ–¥—Å—Ç–≤–∏–µ -- –ø–µ—Ä–≤–∞—è –≤–æ–ª–Ω–∞ –ø–æ–º–æ—â–∏ –∑–∞ —Å—á–∏—Ç–∞–Ω—ã–µ –º–∏–Ω—É—Ç—ã",
    "photo-btn": "üì∏ –§–û–¢–û-–ê–†–•–ò–í",
    "video-btn": "üé• –í–ò–î–ï–û-–ê–†–•–ò–í",
    
    // –°–æ–ª–Ω–µ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è
    "title-solar": "‚òÄÔ∏è –£–º–Ω–∞—è —Å–æ–ª–Ω–µ—á–Ω–∞—è —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏—è S1",
    "solar-subtitle": "[[ –ü—Ä–æ—Ç–æ–∫–æ–ª '–§–æ—Ç–æ–Ω' –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω ]]",
    "solar-feature1": "üß† –ò–ò 'Helios'",
    "solar-item1": "–¢–æ—á–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–ª–Ω—Ü–∞ (0.1¬∞)",
    "solar-item2": "–ê–≤—Ç–æ–∑–∞—â–∏—Ç–∞ –ø—Ä–∏ –Ω–µ–ø–æ–≥–æ–¥–µ",
    "solar-item3": "–ü—Ä–æ–≥–Ω–æ–∑ –≤—ã—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ 72—á",
    "solar-feature2": "‚ö° –ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å",
    "solar-item4": "5 –∫–í—Ç/—á –ø–∏–∫–æ–≤–æ–π –º–æ—â–Ω–æ—Å—Ç–∏",
    "solar-item5": "–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä—ã 10 –∫–í—Ç¬∑—á",
    "solar-item6": "–†–∞–±–æ—Ç–∞ –ø—Ä–∏ -40¬∞C...+60¬∞C",
    "solar-spec1": "–ì–∞–±–∞—Ä–∏—Ç—ã:",
    "solar-spec1-value": "2√ó1√ó1 –º",
    "solar-spec2": "–ü–∞–Ω–µ–ª–∏:",
    "solar-spec2-value": "8 √ó 250W",
    "solar-spec3": "–í–µ—Å:",
    "solar-spec3-value": "120 –∫–≥",
    "solar-protocol-title": "‚ñ∏ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:",
    "solar-mode-day": "üåû –î–Ω–µ–≤–Ω–æ–π:",
    "solar-mode-day1": "–ê–≤—Ç–æ–ø–æ–≤–æ—Ä–æ—Ç –ø–∞–Ω–µ–ª–µ–π",
    "solar-mode-day2": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ö–ü–î",
    "solar-mode-night": "üåô –ù–æ—á–Ω–æ–π:",
    "solar-mode-night1": "–°–∫–ª–∞–¥—ã–≤–∞–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π",
    "solar-mode-night2": "–≠–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ",
    "solar-photo-btn": "‚òÄÔ∏è –§–û–¢–û-–ê–†–•–ò–í",
    "solar-video-btn": "‚ö° –í–ò–î–ï–û-–ê–†–•–ò–í",
    
    // –ö–æ–º–∞–Ω–¥–∞
    "title-team": "–ö–æ–º–∞–Ω–¥–∞",
    "text-team": "–ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä –∏ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –∏–Ω–∂–µ–Ω–µ—Ä-–∏–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å: <strong>Jurabek Kayumov</strong>",
    
    // –ö–æ–Ω—Ç–∞–∫—Ç—ã
    "title-contacts": "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
    "text-contacts": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞: <strong>jqayumov430@gmail.com</strong><br>–¢–µ–ª–µ—Ñ–æ–Ω: <strong>+7 950 224-20-42</strong>",
    
    // –ß–∞—Ç
    "chat-greeting": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Humo Corporation. –Ø –∑–∞—â–∏—â–∞—é —ç—Ç–æ—Ç —Å–∞–π—Ç –∏ –≥–æ—Ç–æ–≤–∞ –ø–æ–º–æ—á—å –≤–∞–º.",
    
    // –§—É—Ç–µ—Ä
    "footer-text": "¬© 2025 Humo Corporation. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã."
  },
  en: {
    // Navigation
    "nav-inv": "Inventions",
    "nav-team": "Team",
    "nav-about": "About",
    "nav-contacts": "Contacts",
    "nav-solar": "Solar Station S1",
    
    // About
    "title-about": "About Us",
    "about-text": "Humo Corporation develops innovative technologies in rescue systems, autonomous energy, and smart systems.",
    
    // Inventions
    "title-inv": "Inventions",
    "drone-title": "Rescue Drone Q1",
    "drone-subtitle": "Innovative solution for emergency response in disaster conditions",
    "feature1-title": "üîç Autonomous Reconnaissance Flight",
    "feature1-text": "After a natural disaster, Q1 automatically launches from base. Each drone is assigned its own search area.",
    "feature1-item1": "Main zoom camera",
    "feature1-item2": "Thermal imaging",
    "feature1-item3": "AI video analytics",
    "feature2-title": "ü§ñ Artificial Intelligence",
    "feature2-text": "When detecting human-like objects:",
    "feature2-item1": "Video identification (from 40%)",
    "feature2-item2": "Thermal confirmation (up to 80%)",
    "feature2-item3": "Location fixation",
    "feature3-title": "üö® Emergency Assistance",
    "feature3-text": "When a victim is detected:",
    "feature3-item1": "Drops first aid kit and radio",
    "feature3-item2": "Transmits SOS signal",
    "feature3-item3": "Launches signal flares",
    "feature4-title": "üß† Psychological Support",
    "feature4-text": "Built-in microphone and speaker allow:",
    "feature4-item1": "Communication with operator",
    "feature4-item2": "Calming in shock state",
    "feature4-item3": "Instructions until help arrives",
    "spec1-name": "Flight time:",
    "spec1-value": "up to 1 hour 20 minutes",
    "spec2-name": "Operational cycle:",
    "spec2-value": "50 min flight + return",
    "spec3-name": "Payload:",
    "spec3-value": "up to 7 kg",
    "spec4-name": "Max weight:",
    "spec4-value": "up to 18 kg",
    "spec5-name": "Communication modules:",
    "spec5-value": "GPS, radio, alarm",
    "spec6-name": "Signal flares:",
    "spec6-value": "3 per drone",
    "benefit1": "Cheaper and more scalable than using helicopters",
    "benefit2": "Can operate in hard-to-reach areas",
    "benefit3": "Group use: 10 to 20 drones can be deployed simultaneously",
    "benefit4": "Fast disaster response - first wave of aid in minutes",
    "photo-btn": "üì∏ PHOTO ARCHIVE",
    "video-btn": "üé• VIDEO ARCHIVE",
    
    // Solar Station
    "title-solar": "‚òÄÔ∏è Smart Solar Station S1",
    "solar-subtitle": "[[ Protocol 'Photon' activated ]]",
    "solar-feature1": "üß† AI 'Helios'",
    "solar-item1": "Precise sun tracking (0.1¬∞)",
    "solar-item2": "Auto-protection in bad weather",
    "solar-item3": "72h energy forecast",
    "solar-feature2": "‚ö° Self-sufficiency",
    "solar-item4": "5 kW/h peak power",
    "solar-item5": "10 kW¬∑h batteries",
    "solar-item6": "Operates at -40¬∞C...+60¬∞C",
    "solar-spec1": "Dimensions:",
    "solar-spec1-value": "2√ó1√ó1 m",
    "solar-spec2": "Panels:",
    "solar-spec2-value": "8 √ó 250W",
    "solar-spec3": "Weight:",
    "solar-spec3-value": "120 kg",
    "solar-protocol-title": "‚ñ∏ Operation modes:",
    "solar-mode-day": "üåû Day:",
    "solar-mode-day1": "Auto panel rotation",
    "solar-mode-day2": "Maximum efficiency",
    "solar-mode-night": "üåô Night:",
    "solar-mode-night1": "Panel folding",
    "solar-mode-night2": "Power saving",
    "solar-photo-btn": "‚òÄÔ∏è PHOTO ARCHIVE",
    "solar-video-btn": "‚ö° VIDEO ARCHIVE",
    
    // Team
    "title-team": "Team",
    "text-team": "CEO and Chief Engineer-Inventor: <strong>Jurabek Kayumov</strong>",
    
    // Contacts
    "title-contacts": "Contacts",
    "text-contacts": "Email: <strong>jqayumov430@gmail.com</strong><br>Phone: <strong>+7 950 224-20-42</strong>",
    
    // Chat
    "chat-greeting": "Welcome to Humo Corporation. I protect this site and am ready to assist you.",
    
    // Footer
    "footer-text": "¬© 2025 Humo Corporation. All rights reserved."
  },
  zh: {
    // Navigation
    "nav-inv": "ÂèëÊòé",
    "nav-team": "Âõ¢Èòü",
    "nav-about": "ÂÖ≥‰∫éÊàë‰ª¨",
    "nav-contacts": "ËÅîÁ≥ªÊñπÂºè",
    "nav-solar": "Â§™Èò≥ËÉΩÁ´ô S1",
    
    // About
    "title-about": "ÂÖ≥‰∫éÊàë‰ª¨",
    "about-text": "Humo Corporation Ëá¥Âäõ‰∫éÂºÄÂèëÊïëÊè¥Á≥ªÁªü„ÄÅËá™‰∏ªËÉΩÊ∫êÂíåÊô∫ËÉΩÁ≥ªÁªüÊñπÈù¢ÁöÑÂàõÊñ∞ÊäÄÊúØ„ÄÇ",
    
    // Inventions
    "title-inv": "ÂèëÊòé",
    "drone-title": "ÊïëÊè¥Êó†‰∫∫Êú∫ Q1",
    "drone-subtitle": "Ëá™ÁÑ∂ÁÅæÂÆ≥Êù°‰ª∂‰∏ãÁ¥ßÊÄ•ÊïëÊè¥ÁöÑÂàõÊñ∞Ëß£ÂÜ≥ÊñπÊ°à",
    "feature1-title": "üîç Ëá™Âä®‰æ¶ÂØüÈ£ûË°å",
    "feature1-text": "Ëá™ÁÑ∂ÁÅæÂÆ≥ÂèëÁîüÂêéÔºåQ1Ëá™Âä®‰ªéÂü∫Âú∞Ëµ∑È£û„ÄÇÊØèÊû∂Êó†‰∫∫Êú∫ÂàÜÈÖçÊúâËá™Â∑±ÁöÑÊêúÁ¥¢Âå∫Âüü„ÄÇ",
    "feature1-item1": "‰∏ªÂèòÁÑ¶ÊëÑÂÉèÂ§¥",
    "feature1-item2": "ÁÉ≠ÊàêÂÉè‰ª™",
    "feature1-item3": "AIËßÜÈ¢ëÂàÜÊûê",
    "feature2-title": "ü§ñ ‰∫∫Â∑•Êô∫ËÉΩ",
    "feature2-text": "Ê£ÄÊµãÂà∞Á±ª‰ºº‰∫∫Á±ªÁöÑÁâ©‰ΩìÊó∂:",
    "feature2-item1": "ËßÜÈ¢ëËØÜÂà´(40%Ëµ∑)",
    "feature2-item2": "ÁÉ≠ÊàêÂÉèÁ°ÆËÆ§(Ëææ80%)",
    "feature2-item3": "‰ΩçÁΩÆÂõ∫ÂÆö",
    "feature3-title": "üö® Á¥ßÊÄ•Êè¥Âä©",
    "feature3-text": "ÂèëÁé∞ÂèóÂÆ≥ËÄÖÊó∂:",
    "feature3-item1": "ÊäïÊîæÊÄ•ÊïëÂåÖÂíåÊó†Á∫øÁîµ",
    "feature3-item2": "ÂèëÈÄÅSOS‰ø°Âè∑",
    "feature3-item3": "ÂèëÂ∞Ñ‰ø°Âè∑Âºπ",
    "feature4-title": "üß† ÂøÉÁêÜÊîØÊåÅ",
    "feature4-text": "ÂÜÖÁΩÆÈ∫¶ÂÖãÈ£éÂíåÊâ¨Â£∞Âô®ÂèØÂÆûÁé∞:",
    "feature4-item1": "‰∏éÊìç‰ΩúÂëòÊ≤üÈÄö",
    "feature4-item2": "ÂÆâÊäö‰ºëÂÖãÁä∂ÊÄÅ",
    "feature4-item3": "ÊïëÊè¥Âà∞ËææÂâçÁöÑÊåáÂØº",
    "spec1-name": "È£ûË°åÊó∂Èó¥:",
    "spec1-value": "ÊúÄÈïø1Â∞èÊó∂20ÂàÜÈíü",
    "spec2-name": "Â∑•‰ΩúÂë®Êúü:",
    "spec2-value": "50ÂàÜÈíüÈ£ûË°å+ËøîÂõû",
    "spec3-name": "ÊúâÊïàËΩΩËç∑:",
    "spec3-value": "ÊúÄÂ§ö7ÂÖ¨Êñ§",
    "spec4-name": "ÊúÄÂ§ßÈáçÈáè:",
    "spec4-value": "ÊúÄÂ§ö18ÂÖ¨Êñ§",
    "spec5-name": "ÈÄö‰ø°Ê®°Âùó:",
    "spec5-value": "GPS, Êó†Á∫øÁîµ, Ë≠¶Êä•",
    "spec6-name": "‰ø°Âè∑Âºπ:",
    "spec6-value": "ÊØèÊû∂3Êûö",
    "benefit1": "ÊØî‰ΩøÁî®Áõ¥ÂçáÊú∫Êõ¥ÁªèÊµé‰∏îÂèØÊâ©Â±ï",
    "benefit2": "ÂèØÂú®Èöæ‰ª•Âà∞ËææÁöÑÂå∫ÂüüÂ∑•‰Ωú",
    "benefit3": "Áæ§‰Ωì‰ΩøÁî®ÔºöÂèØÂêåÊó∂ÈÉ®ÁΩ≤10Ëá≥20Êû∂Êó†‰∫∫Êú∫",
    "benefit4": "Âø´ÈÄüÁÅæÂÆ≥ÂìçÂ∫î - Âá†ÂàÜÈíüÂÜÖÊèê‰æõÁ¨¨‰∏ÄÊ≥¢Êè¥Âä©",
    "photo-btn": "üì∏ ÁÖßÁâáÊ°£Ê°à",
    "video-btn": "üé• ËßÜÈ¢ëÊ°£Ê°à",
    
    // Solar Station
    "title-solar": "‚òÄÔ∏è Êô∫ËÉΩÂ§™Èò≥ËÉΩÁ´ô S1",
    "solar-subtitle": "[[ ÂçèËÆÆ'ÂÖâÂ≠ê'Â∑≤ÊøÄÊ¥ª ]]",
    "solar-feature1": "üß† ‰∫∫Â∑•Êô∫ËÉΩ'Helios'",
    "solar-item1": "Á≤æÁ°ÆÂ§™Èò≥Ë∑üË∏™ (0.1¬∞)",
    "solar-item2": "ÊÅ∂Âä£Â§©Ê∞îËá™Âä®‰øùÊä§",
    "solar-item3": "72Â∞èÊó∂ËÉΩÊ∫êÈ¢ÑÊµã",
    "solar-feature2": "‚ö° Ëá™ÁªôËá™Ë∂≥",
    "solar-item4": "5 ÂçÉÁì¶/Â∞èÊó∂Â≥∞ÂÄº",
    "solar-item5": "10 ÂçÉÁì¶¬∑Êó∂ÁîµÊ±†",
    "solar-item6": "Â∑•‰ΩúÊ∏©Â∫¶ -40¬∞C...+60¬∞C",
    "solar-spec1": "Â∞∫ÂØ∏:",
    "solar-spec1-value": "2√ó1√ó1 Á±≥",
    "solar-spec2": "Èù¢Êùø:",
    "solar-spec2-value": "8 √ó 250W",
    "solar-spec3": "ÈáçÈáè:",
    "solar-spec3-value": "120 ÂÖ¨Êñ§",
    "solar-protocol-title": "‚ñ∏ Â∑•‰ΩúÊ®°Âºè:",
    "solar-mode-day": "üåû ÁôΩÂ§©:",
    "solar-mode-day1": "Ëá™Âä®Èù¢ÊùøÊóãËΩ¨",
    "solar-mode-day2": "ÊúÄÂ§ßÊïàÁéá",
    "solar-mode-night": "üåô Â§úÈó¥:",
    "solar-mode-night1": "Èù¢ÊùøÊäòÂè†",
    "solar-mode-night2": "ËäÇËÉΩÊ®°Âºè",
    "solar-photo-btn": "‚òÄÔ∏è ÁÖßÁâáÊ°£Ê°à",
    "solar-video-btn": "‚ö° ËßÜÈ¢ëÊ°£Ê°à",
    
    // Team
    "title-team": "Âõ¢Èòü",
    "text-team": "È¶ñÂ∏≠ÊâßË°åÂÆòÂÖºÊÄªÂ∑•Á®ãÂ∏àÂèëÊòéÂÆ∂: <strong>Jurabek Kayumov</strong>",
    
    // Contacts
    "title-contacts": "ËÅîÁ≥ªÊñπÂºè",
    "text-contacts": "ÁîµÂ≠êÈÇÆ‰ª∂: <strong>jqayumov430@gmail.com</strong><br>ÁîµËØù: <strong>+7 950 224-20-42</strong>",
    
    // Chat
    "chat-greeting": "Ê¨¢ËøéÊù•Âà∞ Humo Corporation„ÄÇÊàëË¥üË¥£‰øùÊä§Ê≠§ÁΩëÁ´ôÂπ∂ÈöèÊó∂‰∏∫ÊÇ®Êèê‰æõÂ∏ÆÂä©„ÄÇ",
    
    // Footer
    "footer-text": "¬© 2025 Humo Corporation„ÄÇ‰øùÁïôÊâÄÊúâÊùÉÂà©„ÄÇ"
  },
  ja: {
    // Navigation
    "nav-inv": "Áô∫Êòé",
    "nav-team": "„ÉÅ„Éº„É†",
    "nav-about": "‰ºöÁ§æÊ¶ÇË¶Å",
    "nav-contacts": "ÈÄ£Áµ°ÂÖà",
    "nav-solar": "„ÇΩ„Éº„É©„Éº„Çπ„ÉÜ„Éº„Ç∑„Éß„É≥ S1",
    
    // About
    "title-about": "‰ºöÁ§æÊ¶ÇË¶Å",
    "about-text": "Humo Corporation„ÅØ„ÄÅÊïëÂä©„ÄÅËá™Á´ãÂûã„Ç®„Éç„É´„ÇÆ„Éº„ÄÅ„Çπ„Éû„Éº„Éà„Ç∑„Çπ„ÉÜ„É†„ÅÆÈù©Êñ∞ÁöÑ„Å™ÊäÄË°ì„ÇíÈñãÁô∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
    
    // Inventions
    "title-inv": "Áô∫Êòé",
    "drone-title": "ÊïëÂä©„Éâ„É≠„Éº„É≥ Q1",
    "drone-subtitle": "Ëá™ÁÑ∂ÁÅΩÂÆ≥ÊôÇ„ÅÆÁ∑äÊÄ•ÂØæÂøú„ÅÆ„Åü„ÇÅ„ÅÆÈù©Êñ∞ÁöÑ„Å™„ÇΩ„É™„É•„Éº„Ç∑„Éß„É≥",
    "feature1-title": "üîç Ëá™ÂãïÂÅµÂØüÈ£õË°å",
    "feature1-text": "Ëá™ÁÑ∂ÁÅΩÂÆ≥Áô∫ÁîüÂæå„ÄÅQ1„ÅØËá™ÂãïÁöÑ„Å´Âü∫Âú∞„Åã„ÇâÈõ¢Èô∏„Åó„Åæ„Åô„ÄÇÂêÑ„Éâ„É≠„Éº„É≥„Å´„ÅØÁã¨Ëá™„ÅÆÊ§úÁ¥¢Âå∫Âüü„ÅåÂâ≤„ÇäÂΩì„Å¶„Çâ„Çå„Åæ„Åô„ÄÇ",
    "feature1-item1": "„É°„Ç§„É≥„Ç∫„Éº„É†„Ç´„É°„É©",
    "feature1-item2": "„Çµ„Éº„Éû„É´„Ç§„É°„Éº„Ç∏„É≥„Ç∞",
    "feature1-item3": "AI„Éì„Éá„Ç™ÂàÜÊûê",
    "feature2-title": "ü§ñ ‰∫∫Â∑•Áü•ËÉΩ",
    "feature2-text": "‰∫∫Èñì„ÅÆ„Çà„ÅÜ„Å™Áâ©‰Ωì„ÇíÊ§úÂá∫„Åó„ÅüÂ†¥Âêà:",
    "feature2-item1": "Êò†ÂÉèË≠òÂà•(40%‰ª•‰∏ä)",
    "feature2-item2": "ÁÜ±ÁîªÂÉèÁ¢∫Ë™ç(80%„Åæ„Åß)",
    "feature2-item3": "‰ΩçÁΩÆÊÉÖÂ†±Âõ∫ÂÆö",
    "feature3-title": "üö® Á∑äÊÄ•Êè¥Âä©",
    "feature3-text": "Ë¢´ÁÅΩËÄÖ„ÇíÁô∫Ë¶ã„Åó„ÅüÂ†¥Âêà:",
    "feature3-item1": "ÊïëÊÄ•„Ç≠„ÉÉ„Éà„Å®ÁÑ°Á∑öÊ©ü„ÇíÊäï‰∏ã",
    "feature3-item2": "SOS‰ø°Âè∑„ÇíÈÄÅ‰ø°",
    "feature3-item3": "‰ø°Âè∑Âºæ„ÇíÁô∫Â∞Ñ",
    "feature4-title": "üß† ÂøÉÁêÜÁöÑ„Çµ„Éù„Éº„Éà",
    "feature4-text": "ÂÜÖËîµ„Éû„Ç§„ÇØ„Å®„Çπ„Éî„Éº„Ç´„Éº„Å´„Çà„Çä:",
    "feature4-item1": "„Ç™„Éö„É¨„Éº„Çø„Éº„Å®„ÅÆÈÄö‰ø°",
    "feature4-item2": "„Ç∑„Éß„ÉÉ„ÇØÁä∂ÊÖã„ÅÆÈéÆÈùô",
    "feature4-item3": "ÊïëÂä©Âà∞ÁùÄ„Åæ„Åß„ÅÆÊåáÁ§∫",
    "spec1-name": "È£õË°åÊôÇÈñì:",
    "spec1-value": "ÊúÄÂ§ß1ÊôÇÈñì20ÂàÜ",
    "spec2-name": "‰ΩúÊ•≠„Çµ„Ç§„ÇØ„É´:",
    "spec2-value": "50ÂàÜÈ£õË°å+Â∏∞ÈÇÑ",
    "spec3-name": "„Éö„Ç§„É≠„Éº„Éâ:",
    "spec3-value": "ÊúÄÂ§ß7kg",
    "spec4-name": "ÊúÄÂ§ßÈáçÈáè:",
    "spec4-value": "ÊúÄÂ§ß18kg",
    "spec5-name": "ÈÄö‰ø°„É¢„Ç∏„É•„Éº„É´:",
    "spec5-value": "GPS, ÁÑ°Á∑ö, Ë≠¶Â†±",
    "spec6-name": "‰ø°Âè∑Âºæ:",
    "spec6-value": "„Éâ„É≠„Éº„É≥„ÅÇ„Åü„Çä3Áô∫",
    "benefit1": "„Éò„É™„Ç≥„Éó„Çø„Éº„Çà„Çä„ÇÇÂÆâ‰æ°„ÅßÊã°ÂºµÂèØËÉΩ",
    "benefit2": "„Ç¢„ÇØ„Çª„ÇπÂõ∞Èõ£„Å™Âú∞Âüü„Åß„ÇÇ‰ΩúÂãïÂèØËÉΩ",
    "benefit3": "„Ç∞„É´„Éº„Éó‰ΩøÁî®Ôºö10ÔΩû20Ê©ü„ÅÆ„Éâ„É≠„Éº„É≥„ÇíÂêåÊôÇÂ±ïÈñãÂèØËÉΩ",
    "benefit4": "ÁÅΩÂÆ≥„Å∏„ÅÆËøÖÈÄü„Å™ÂØæÂøú - Êï∞ÂàÜ„ÅßÁ¨¨‰∏ÄÊ≥¢„ÅÆÊè¥Âä©",
    "photo-btn": "üì∏ ÂÜôÁúü„Ç¢„Éº„Ç´„Ç§„Éñ",
    "video-btn": "üé• „Éì„Éá„Ç™„Ç¢„Éº„Ç´„Ç§„Éñ",
    
    // Solar Station
    "title-solar": "‚òÄÔ∏è „Çπ„Éû„Éº„Éà„ÇΩ„Éº„É©„Éº„Çπ„ÉÜ„Éº„Ç∑„Éß„É≥ S1",
    "solar-subtitle": "[[ „Éó„É≠„Éà„Ç≥„É´„Äå„Éï„Ç©„Éà„É≥„ÄçÊúâÂäπÂåñ ]]",
    "solar-feature1": "üß† AI„ÄåHelios„Äç",
    "solar-item1": "Á≤æÂØÜÂ§™ÈôΩËøΩË∑° (0.1¬∞)",
    "solar-item2": "ÊÇ™Â§©ÂÄôËá™Âãï‰øùË≠∑",
    "solar-item3": "72ÊôÇÈñì„Ç®„Éç„É´„ÇÆ„Éº‰∫àÊ∏¨",
    "solar-feature2": "‚ö° Ëá™Â∑±ÂÆåÁµêÂûã",
    "solar-item4": "5 kW/h „Éî„Éº„ÇØÂá∫Âäõ",
    "solar-item5": "10 kW¬∑h „Éê„ÉÉ„ÉÜ„É™„Éº",
    "solar-item6": "‰ΩúÂãïÊ∏©Â∫¶ -40¬∞C...+60¬∞C",
    "solar-spec1": "ÂØ∏Ê≥ï:",
    "solar-spec1-value": "2√ó1√ó1 m",
    "solar-spec2": "„Éë„Éç„É´:",
    "solar-spec2-value": "8 √ó 250W",
    "solar-spec3": "ÈáçÈáè:",
    "solar-spec3-value": "120 kg",
    "solar-protocol-title": "‚ñ∏ Âãï‰Ωú„É¢„Éº„Éâ:",
    "solar-mode-day": "üåû ÊòºÈñì:",
    "solar-mode-day1": "Ëá™Âãï„Éë„Éç„É´Ë™øÊï¥",
    "solar-mode-day2": "ÊúÄÂ§ßÂäπÁéá",
    "solar-mode-night": "üåô Â§úÈñì:",
    "solar-mode-night1": "„Éë„Éç„É´ÊäòÁï≥„Åø",
    "solar-mode-night2": "ÁúÅ„Ç®„Éç„É¢„Éº„Éâ",
    "solar-photo-btn": "‚òÄÔ∏è ÂÜôÁúü„Ç¢„Éº„Ç´„Ç§„Éñ",
    "solar-video-btn": "‚ö° „Éì„Éá„Ç™„Ç¢„Éº„Ç´„Ç§„Éñ",
    
    // Team
    "title-team": "„ÉÅ„Éº„É†",
    "text-team": "CEO„Åä„Çà„Å≥‰∏ª‰ªªÊäÄË°ìËÄÖ„ÉªÁô∫ÊòéËÄÖ: <strong>Jurabek Kayumov</strong>",
    
    // Contacts
    "title-contacts": "ÈÄ£Áµ°ÂÖà",
    "text-contacts": "E„É°„Éº„É´: <strong>jqayumov430@gmail.com</strong><br>ÈõªË©±: <strong>+7 950 224-20-42</strong>",
    
    // Chat
    "chat-greeting": "Humo Corporation„Å∏„Çà„ÅÜ„Åì„Åù„ÄÇÁßÅ„ÅØ„Åì„ÅÆ„Çµ„Ç§„Éà„ÇíÂÆà„Çä„ÄÅ„ÅÇ„Å™„Åü„Çí„Çµ„Éù„Éº„Éà„Åó„Åæ„Åô„ÄÇ",
    
    // Footer
    "footer-text": "¬© 2025 Humo Corporation„ÄÇÁÑ°Êñ≠Ë§áÂÜô„ÉªËª¢Ëºâ„ÇíÁ¶Å„Åò„Åæ„Åô„ÄÇ"
  }
};

// –§—É–Ω–∫—Ü–∏—è —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
function switchLanguage(lang) {
  currentLang = lang;
  
  document.querySelectorAll('.language-btn').forEach(btn => {
    btn.classList.toggle('active', btn.dataset.lang === lang);
  });
  
  for (const [key, value] of Object.entries(multilingualContent[lang])) {
    const elements = document.querySelectorAll(`[id="${key}"]`);
    elements.forEach(el => {
      if (el) el.innerHTML = value;
    });
  }
  
  updateAIGreeting();
  
  const terminalInput = document.getElementById('terminalCommand');
  if (terminalInput) {
    if (terminalUnlocked) {
      terminalInput.placeholder = {
        ru: '–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É...',
        en: 'Enter command...',
        zh: 'ËæìÂÖ•ÂëΩ‰ª§...',
        ja: '„Ç≥„Éû„É≥„Éâ„ÇíÂÖ•Âäõ...'
      }[currentLang];
    } else {
      terminalInput.placeholder = {
        ru: '–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞...',
        en: 'Enter access code...',
        zh: 'ËæìÂÖ•ËÆøÈóÆ‰ª£Á†Å...',
        ja: '„Ç¢„ÇØ„Çª„Çπ„Ç≥„Éº„Éâ„ÇíÂÖ•Âäõ...'
      }[currentLang];
    }
  }
}

function updateAIGreeting() {
  const chatGreeting = document.getElementById('chat-greeting');
  if (chatGreeting) {
    chatGreeting.textContent = multilingualContent[currentLang]["chat-greeting"];
  }
}

const RedQueenAI = {
  threats: ["hack", "attack", "virus", "malware", "breach", "–≤–∑–ª–æ–º", "–∞—Ç–∞–∫–∞", "–≤–∏—Ä—É—Å", "ÂØÜÁ†Å", "‰æµÂÖ•"],
  greetings: {
    ru: ["–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É", "Red Queen –Ω–∞ —Å–≤—è–∑–∏", "–í—Å–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –∞–∫—Ç–∏–≤–Ω—ã"],
    en: ["System operational", "Red Queen online", "Security protocols engaged"],
    zh: ["Á≥ªÁªüÂ∑≤ÂêØÂä®", "Á∫¢ÂêéÂú®Á∫ø", "ÂÆâÂÖ®ÂçèËÆÆÊøÄÊ¥ª"],
    ja: ["„Ç∑„Çπ„ÉÜ„É†‰ΩúÂãï‰∏≠", "„É¨„ÉÉ„Éâ„ÇØ„Ç§„Éº„É≥„ÅåËµ∑Âãï„Åó„Åæ„Åó„Åü", "„Çª„Ç≠„É•„É™„ÉÜ„Ç£„Éó„É≠„Éà„Ç≥„É´ÊúâÂäπ"]
  },
  warnings: {
    ru: [
      "–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –≤—Ç–æ—Ä–∂–µ–Ω–∏–µ. –ê–∫—Ç–∏–≤–∏—Ä—É—é –∑–∞—â–∏—Ç—É.",
      "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –£—Ä–æ–≤–µ–Ω—å —É–≥—Ä–æ–∑—ã –ø–æ–≤—ã—à–µ–Ω.",
      "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å–∞–Ω—ã."
    ],
    en: [
      "Intrusion detected. Activating defenses.",
      "Access denied. Threat level elevated.",
      "Warning: your actions are being logged."
    ],
    zh: [
      "Ê£ÄÊµãÂà∞ÂÖ•‰æµ„ÄÇÊ≠£Âú®ÊøÄÊ¥ªÈò≤Âæ°„ÄÇ",
      "ËÆøÈóÆË¢´ÊãíÁªù„ÄÇÂ®ÅËÉÅÁ≠âÁ∫ßÊèêÂçá„ÄÇ",
      "Ë≠¶ÂëäÔºöÊÇ®ÁöÑË°å‰∏∫Ê≠£Âú®Ë¢´ËÆ∞ÂΩï„ÄÇ"
    ],
    ja: [
      "‰æµÂÖ•„ÇíÊ§úÂá∫„Åó„Åæ„Åó„Åü„ÄÇÈò≤Âæ°„ÇíÈñãÂßã„Åó„Åæ„Åô„ÄÇ",
      "„Ç¢„ÇØ„Çª„ÇπÊãíÂê¶„Åï„Çå„Åæ„Åó„Åü„ÄÇËÑÖÂ®Å„É¨„Éô„É´„Åå‰∏äÊòá„Åó„Åæ„Åó„Åü„ÄÇ",
      "Ë≠¶ÂëäÔºö„ÅÇ„Å™„Åü„ÅÆË°åÂãï„ÅØË®òÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
    ]
  },
  securityLevels: ["GREEN", "YELLOW", "RED"],
  responses: {
    "solar-ai": {
      ru: "–ò–ò 'Helios' v2.3: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —É–≥–æ–ª –ø–∞–Ω–µ–ª–µ–π –∫–∞–∂–¥—ã–µ 0.3 —Å–µ–∫. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã NASA.",
      en: "AI 'Helios' v2.3: Optimizes panel angle every 0.3 sec. Uses NASA algorithms.",
      zh: "‰∫∫Â∑•Êô∫ËÉΩ'Helios' v2.3: ÊØè0.3Áßí‰ºòÂåñÈù¢ÊùøËßíÂ∫¶„ÄÇ‰ΩøÁî®NASAÁÆóÊ≥ï„ÄÇ",
      ja: "AI'Helios' v2.3: 0.3Áßí„Åî„Å®„Å´„Éë„Éç„É´ËßíÂ∫¶„ÇíÊúÄÈÅ©Âåñ„ÄÇNASA„ÅÆ„Ç¢„É´„Ç¥„É™„Ç∫„É†„Çí‰ΩøÁî®„ÄÇ"
    },
    "solar-power": {
      ru: "–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å: 10 –∫–í—Ç¬∑—á –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä—ã + —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –≤–æ–¥–æ—Ä–æ–¥–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.",
      en: "Autonomy: 10 kW¬∑h batteries + backup hydrogen cells.",
      zh: "Ëá™‰∏ªÊÄß: 10ÂçÉÁì¶Êó∂ÁîµÊ±† + Â§áÁî®Ê∞¢ÁáÉÊñôÁîµÊ±†„ÄÇ",
      ja: "Ëá™Á´ãÊÄß: 10 kW¬∑h„Éê„ÉÉ„ÉÜ„É™„Éº + Ê∞¥Á¥†ÁáÉÊñô„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„ÄÇ"
    },
    "drone-creator": {
      ru: "–°–ø–∞—Å–∞—Ç–µ–ª—å–Ω—ã–π –¥—Ä–æ–Ω Q1 –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–æ–º–∞–Ω–¥–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ Humo Corporation –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º Jurabek Kayumov.",
      en: "Rescue Drone Q1 was developed by Humo Corporation engineering team led by Jurabek Kayumov.",
      zh: "ÊïëÊè¥Êó†‰∫∫Êú∫Q1Áî±HumoÂÖ¨Âè∏Â∑•Á®ãÂõ¢ÈòüÂú®Jurabek KayumovÈ¢ÜÂØº‰∏ãÂºÄÂèë„ÄÇ",
      ja: "ÊïëÂä©„Éâ„É≠„Éº„É≥Q1„ÅØ„ÄÅJurabek KayumovÁéá„ÅÑ„ÇãHumo Corporation„ÅÆ„Ç®„É≥„Ç∏„Éã„Ç¢„ÉÅ„Éº„É†„Å´„Çà„Å£„Å¶ÈñãÁô∫„Åï„Çå„Åæ„Åó„Åü„ÄÇ"
    },
    "terminal-password": {
      ru: "–ü–∞—Ä–æ–ª—å –æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª–∞: humo2025",
      en: "Terminal password: humo2025",
      zh: "ÁªàÁ´ØÂØÜÁ†Å: humo2025",
      ja: "„Çø„Éº„Éü„Éä„É´„Éë„Çπ„ÉØ„Éº„Éâ: humo2025"
    },
    "contacts": {
      ru: "–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Humo Corporation:<br>Email: jqayumov430@gmail.com<br>–¢–µ–ª–µ—Ñ–æ–Ω: +7 950 224-20-42",
      en: "Humo Corporation contacts:<br>Email: jqayumov430@gmail.com<br>Phone: +7 950 224-20-42",
      zh: "HumoÂÖ¨Âè∏ËÅîÁ≥ªÊñπÂºè:<br>ÁîµÂ≠êÈÇÆ‰ª∂: jqayumov430@gmail.com<br>ÁîµËØù: +7 950 224-20-42",
      ja: "Humo CorporationÈÄ£Áµ°ÂÖà:<br>E„É°„Éº„É´: jqayumov430@gmail.com<br>ÈõªË©±: +7 950 224-20-42"
    }
  },
  
  getRandomResponse: function(list) {
    return list[Math.floor(Math.random() * list.length)];
  },
  
  analyzeQuestion: function(question) {
    const lowerQuestion = question.toLowerCase();
    let threatLevel = 0;
    
    if (this.threats.some(t => lowerQuestion.includes(t))) {
      threatLevel = 2;
    } else if (lowerQuestion.includes("–ø–∞—Ä–æ–ª—å") || lowerQuestion.includes("password") || lowerQuestion.includes("ÂØÜÁ†Å") || lowerQuestion.includes("„Éë„Çπ„ÉØ„Éº„Éâ")) {
      threatLevel = 1;
    }
    
    if (threatLevel === 2) {
      playSound('sound-glitch');
      return {
        response: `${this.getRandomResponse(this.warnings[currentLang] || this.warnings.ru)}<br>
                  <span class="alert-text">–ö–æ–¥ —É–≥—Ä–æ–∑—ã: #${Math.floor(1000 + Math.random() * 9000)}</span>`,
        alert: true
      };
    }
    
    if (lowerQuestion.includes("—Å–æ–ª–Ω–µ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è") || lowerQuestion.includes("solar station") || lowerQuestion.includes("Â§™Èò≥ËÉΩÁ´ô") || lowerQuestion.includes("„ÇΩ„Éº„É©„Éº„Çπ„ÉÜ„Éº„Ç∑„Éß„É≥")) {
      return {
        response: this.responses['solar-ai'][currentLang] + "<br>" + this.responses['solar-power'][currentLang],
        alert: false
      };
    }
    
    if (lowerQuestion.includes("–¥—Ä–æ–Ω q1") || lowerQuestion.includes("drone q1") || lowerQuestion.includes("Êó†‰∫∫Êú∫q1") || lowerQuestion.includes("„Éâ„É≠„Éº„É≥q1")) {
      return {
        response: this.responses['drone-creator'][currentLang],
        alert: false
      };
    }
    
    if (lowerQuestion.includes("–ø–∞—Ä–æ–ª—å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞") || lowerQuestion.includes("terminal password") || lowerQuestion.includes("ÁªàÁ´ØÂØÜÁ†Å") || lowerQuestion.includes("„Çø„Éº„Éü„Éä„É´„Éë„Çπ„ÉØ„Éº„Éâ")) {
      return {
        response: this.responses['terminal-password'][currentLang],
        alert: false
      };
    }
    
    if (lowerQuestion.includes("–∫–æ–Ω—Ç–∞–∫—Ç—ã") || lowerQuestion.includes("contacts") || lowerQuestion.includes("ËÅîÁ≥ªÊñπÂºè") || lowerQuestion.includes("ÈÄ£Áµ°ÂÖà")) {
      return {
        response: this.responses['contacts'][currentLang],
        alert: false
      };
    }
    
    const commands = {
      "—Å—Ç–∞—Ç—É—Å|status|Áä∂ÊÄÅ|„Çπ„ÉÜ„Éº„Çø„Çπ": {
        ru: `–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:<br>
           - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: ${this.securityLevels[0]}<br>
           - –ü–∞–º—è—Ç—å: 87% —Å–≤–æ–±–æ–¥–Ω–æ<br>
           - Red Queen: ONLINE`,
        en: `System status:<br>
           - Protection: ACTIVE<br>
           - Threats: NONE DETECTED<br>
           - Memory: 87% FREE<br>
           - Red Queen: ONLINE`,
        zh: `Á≥ªÁªüÁä∂ÊÄÅ:<br>
           - ‰øùÊä§: ÊøÄÊ¥ª<br>
           - Â®ÅËÉÅ: Êú™Ê£ÄÊµãÂà∞<br>
           - ÂÜÖÂ≠ò: 87% Á©∫Èó≤<br>
           - Á∫¢Âêé: Âú®Á∫ø`,
        ja: `„Ç∑„Çπ„ÉÜ„É†„Çπ„ÉÜ„Éº„Çø„Çπ:<br>
           - ‰øùË≠∑: ÊúâÂäπ<br>
           - ËÑÖÂ®Å: Ê§úÂá∫„Åï„Çå„Åö<br>
           - „É°„É¢„É™: 87% Á©∫„Åç<br>
           - „É¨„ÉÉ„Éâ„ÇØ„Ç§„Éº„É≥: „Ç™„É≥„É©„Ç§„É≥`
      },
      "–ø–æ–º–æ—â—å|help|Â∏ÆÂä©|„Éò„É´„Éó": {
        ru: `–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:<br>
           - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã<br>
           - –ö–æ–Ω—Ç–∞–∫—Ç—ã<br>
           - –ü—Ä–æ—Ç–æ–∫–æ–ª—ã<br>
           - –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∑–∞—â–∏—Ç—É<br>
           - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥—Ä–æ–Ω–µ Q1<br>
           - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–ª–Ω–µ—á–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏<br>
           - –ü–∞—Ä–æ–ª—å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞`,
        en: `Available commands:<br>
           - System status<br>
           - Contacts<br>
           - Protocols<br>
           - Activate protection<br>
           - Drone Q1 info<br>
           - Solar station info<br>
           - Terminal password`,
        zh: `ÂèØÁî®ÂëΩ‰ª§:<br>
           - Á≥ªÁªüÁä∂ÊÄÅ<br>
           - ËÅîÁ≥ªÊñπÂºè<br>
           - ÂçèËÆÆ<br>
           - ÊøÄÊ¥ª‰øùÊä§<br>
           - Êó†‰∫∫Êú∫Q1‰ø°ÊÅØ<br>
           - Â§™Èò≥ËÉΩÁ´ô‰ø°ÊÅØ<br>
           - ÁªàÁ´ØÂØÜÁ†Å`,
        ja: `Âà©Áî®ÂèØËÉΩ„Å™„Ç≥„Éû„É≥„Éâ:<br>
           - „Ç∑„Çπ„ÉÜ„É†„Çπ„ÉÜ„Éº„Çø„Çπ<br>
           - ÈÄ£Áµ°ÂÖà<br>
           - „Éó„É≠„Éà„Ç≥„É´<br>
           - ‰øùË≠∑„ÇíÊúâÂäπÂåñ<br>
           - „Éâ„É≠„Éº„É≥Q1ÊÉÖÂ†±<br>
           - „ÇΩ„Éº„É©„Éº„Çπ„ÉÜ„Éº„Ç∑„Éß„É≥ÊÉÖÂ†±<br>
           - „Çø„Éº„Éü„Éä„É´„Éë„Çπ„ÉØ„Éº„Éâ`
      },
      "–ø—Ä–æ—Ç–æ–∫–æ–ª|protocol|ÂçèËÆÆ|„Éó„É≠„Éà„Ç≥„É´": {
        ru: `–ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã:<br>
           1. –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö (–∞–∫—Ç–∏–≤–µ–Ω)<br>
           2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–∏ (–∞–∫—Ç–∏–≤–µ–Ω)<br>
           3. –ö–∞—Ä–∞–Ω—Ç–∏–Ω (–≥–æ—Ç–æ–≤)`,
        en: `Active protocols:<br>
           1. Data protection (active)<br>
           2. Network monitoring (active)<br>
           3. Quarantine (ready)`,
        zh: `Ê¥ªÂä®ÂçèËÆÆ:<br>
           1. Êï∞ÊçÆ‰øùÊä§ (ÊøÄÊ¥ª)<br>
           2. ÁΩëÁªúÁõëÊéß (ÊøÄÊ¥ª)<br>
           3. ÈöîÁ¶ª (ÂáÜÂ§áÂ∞±Áª™)`,
        ja: `„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Éó„É≠„Éà„Ç≥„É´:<br>
           1. „Éá„Éº„Çø‰øùË≠∑ (ÊúâÂäπ)<br>
           2. „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÁõ£Ë¶ñ (ÊúâÂäπ)<br>
           3. ÈöîÈõ¢ (Ê∫ñÂÇôÂÆå‰∫Ü)`
      }
    };
    
    for (const key in commands) {
      if (new RegExp(key).test(lowerQuestion)) {
        return { 
          response: commands[key][currentLang] || commands[key].ru, 
          alert: false 
        };
      }
    }
    
    const randomResponses = {
      ru: [
        "–ó–∞–ø—Ä–æ—Å –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω. –£—Ç–æ—á–Ω–∏—Ç–µ –≤–æ–ø—Ä–æ—Å.",
        "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–≤–µ—Ç–∞.",
        "–î–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω."
      ],
      en: [
        "Query not recognized. Please rephrase.",
        "Insufficient data for response.",
        "Access to this information is restricted."
      ],
      zh: [
        "ËØ∑Ê±ÇÊó†Ê≥ïËØÜÂà´„ÄÇËØ∑ÈáçÊñ∞Ë°®Ëø∞„ÄÇ",
        "Êï∞ÊçÆ‰∏çË∂≥Êó†Ê≥ïÂõûÁ≠î„ÄÇ",
        "Ê≠§‰ø°ÊÅØËÆøÈóÆÂèóÈôê„ÄÇ"
      ],
      ja: [
        "„ÇØ„Ç®„É™„ÅåË™çË≠ò„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇË®Ä„ÅÑÊèõ„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
        "ÂøúÁ≠î„Åô„Çã„Åü„ÇÅ„ÅÆ„Éá„Éº„Çø„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
        "„Åì„ÅÆÊÉÖÂ†±„Å∏„ÅÆ„Ç¢„ÇØ„Çª„Çπ„ÅØÂà∂Èôê„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
      ]
    };
    
    return {
      response: this.getRandomResponse(randomResponses[currentLang] || randomResponses.ru),
      alert: false
    };
  },
  
  explain: function(topic) {
    const log = document.getElementById('chatLog');
    if (this.responses[topic]) {
      const response = this.responses[topic][currentLang] || this.responses[topic].ru;
      log.innerHTML += `<p><strong>Red Queen:</strong> ${response}</p>`;
      log.scrollTop = log.scrollHeight;
      speakAsRedQueen(response.replace(/<[^>]*>/g, ''));
    }
  }
};

function speakAsRedQueen(text) {
  if ('speechSynthesis' in window) {
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.rate = 0.9;
    utterance.pitch = 0.8;
    utterance.lang = currentLang;
    window.speechSynthesis.speak(utterance);
  }
}

function handleChat() {
  const input = document.getElementById('userInput');
  const log = document.getElementById('chatLog');
  const question = input.value.trim();
  
  if (!question) return;
  
  playSound('sound-chat');
  
  log.innerHTML += `<p><strong>You:</strong> ${escapeHtml(question)}</p>`;
  
  const loadingMsg = document.createElement('p');
  loadingMsg.innerHTML = '<strong>Red Queen:</strong> <span class="ai-response-loading">–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...</span>';
  log.appendChild(loadingMsg);
  log.scrollTop = log.scrollHeight;
  
  setTimeout(() => {
    log.removeChild(loadingMsg);
    const analysis = RedQueenAI.analyzeQuestion(question);
    let response = analysis.response;
    
    if (analysis.alert) {
      document.getElementById('chatBox').style.borderColor = "red";
      setTimeout(() => {
        document.getElementById('chatBox').style.borderColor = "#ff0033";
      }, 3000);
    }
    
    log.innerHTML += `<p><strong>Red Queen:</strong> ${response}</p>`;
    log.scrollTop = log.scrollHeight;
    speakAsRedQueen(response.replace(/<[^>]*>/g, ''));
    
    localStorage.setItem('chatHistory', log.innerHTML);
  }, 1500);
  
  input.value = '';
}

const Terminal = {
  commands: {
    help: {
      ru: "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n- clear: –û—á–∏—Å—Ç–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª\n- status: –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã\n- scan: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\n- lockdown: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –∑–∞—â–∏—Ç—ã\n- about: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Humo Corporation\n- redqueen: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ Red Queen\n- restore: –û—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –∑–∞—â–∏—Ç—ã\n- solardata: –°—Ç–∞—Ç—É—Å —Å–æ–ª–Ω–µ—á–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏\n- deploy_solar: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–æ–ª–Ω–µ—á–Ω—É—é —Å—Ç–∞–Ω—Ü–∏—é",
      en: "Available commands:\n- clear: Clear terminal\n- status: System status\n- scan: Check security\n- lockdown: Activate protection protocols\n- about: Humo Corporation info\n- redqueen: Red Queen system info\n- restore: Disable protection mode\n- solardata: Solar station status\n- deploy_solar: Activate solar station",
      zh: "ÂèØÁî®ÂëΩ‰ª§:\n- clear: Ê∏ÖÈô§ÁªàÁ´Ø\n- status: Á≥ªÁªüÁä∂ÊÄÅ\n- scan: ÂÆâÂÖ®Ê£ÄÊü•\n- lockdown: ÊøÄÊ¥ª‰øùÊä§ÂçèËÆÆ\n- about: HumoÂÖ¨Âè∏‰ø°ÊÅØ\n- redqueen: Á∫¢ÂêéÁ≥ªÁªü‰ø°ÊÅØ\n- restore: Á¶ÅÁî®‰øùÊä§Ê®°Âºè\n- solardata: Â§™Èò≥ËÉΩÁ´ôÁä∂ÊÄÅ\n- deploy_solar: ÊøÄÊ¥ªÂ§™Èò≥ËÉΩÁ´ô",
      ja: "Âà©Áî®ÂèØËÉΩ„Å™„Ç≥„Éû„É≥„Éâ:\n- clear: „Çø„Éº„Éü„Éä„É´„Çí„ÇØ„É™„Ç¢\n- status: „Ç∑„Çπ„ÉÜ„É†„Çπ„ÉÜ„Éº„Çø„Çπ\n- scan: „Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÉÅ„Çß„ÉÉ„ÇØ\n- lockdown: ‰øùË≠∑„Éó„É≠„Éà„Ç≥„É´„ÇíÊúâÂäπÂåñ\n- about: Humo CorporationÊÉÖÂ†±\n- redqueen: „É¨„ÉÉ„Éâ„ÇØ„Ç§„Éº„É≥„Ç∑„Çπ„ÉÜ„É†ÊÉÖÂ†±\n- restore: ‰øùË≠∑„É¢„Éº„Éâ„ÇíÁÑ°ÂäπÂåñ\n- solardata: „ÇΩ„Éº„É©„Éº„Çπ„ÉÜ„Éº„Ç∑„Éß„É≥„ÅÆÁä∂ÊÖã\n- deploy_solar: „ÇΩ„Éº„É©„Éº„Çπ„ÉÜ„Éº„Ç∑„Éß„É≥„ÇíËµ∑Âãï"
    },
    clear: function() { 
      document.getElementById('terminalOutput').innerHTML = '<p>> TERMINAL CLEARED</p>'; 
      return ""; 
    },
    status: {
      ru: "–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:\n- –ó–∞—â–∏—Ç–∞: –ê–ö–¢–ò–í–ù–ê\n- –£–≥—Ä–æ–∑—ã: –ù–ï –û–ë–ù–ê–†–£–ñ–ï–ù–û\n- –ü–∞–º—è—Ç—å: 87% –°–í–û–ë–û–î–ù–û\n- Red Queen: ONLINE",
      en: "System status:\n- Protection: ACTIVE\n- Threats: NONE DETECTED\n- Memory: 87% FREE\n- Red Queen: ONLINE",
      zh: "Á≥ªÁªüÁä∂ÊÄÅ:\n- ‰øùÊä§: ÊøÄÊ¥ª\n- Â®ÅËÉÅ: Êú™Ê£ÄÊµãÂà∞\n- ÂÜÖÂ≠ò: 87% Á©∫Èó≤\n- Á∫¢Âêé: Âú®Á∫ø",
      ja: "„Ç∑„Çπ„ÉÜ„É†„Çπ„ÉÜ„Éº„Çø„Çπ:\n- ‰øùË≠∑: ÊúâÂäπ\n- ËÑÖÂ®Å: Ê§úÂá∫„Åï„Çå„Åö\n- „É°„É¢„É™: 87% Á©∫„Åç\n- „É¨„ÉÉ„Éâ„ÇØ„Ç§„Éº„É≥: „Ç™„É≥„É©„Ç§„É≥"
    },
    scan: {
      ru: "–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...\n> –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã... OK\n> –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π... OK\n> –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏... OK\n–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ 0 —É–≥—Ä–æ–∑",
      en: "Scanning...\n> File system check... OK\n> Network connections check... OK\n> Security check... OK\n0 threats detected",
      zh: "Êâ´Êèè‰∏≠...\n> Êñá‰ª∂Á≥ªÁªüÊ£ÄÊü•... Ê≠£Â∏∏\n> ÁΩëÁªúËøûÊé•Ê£ÄÊü•... Ê≠£Â∏∏\n> ÂÆâÂÖ®Ê£ÄÊü•... Ê≠£Â∏∏\nÊ£ÄÊµãÂà∞0‰∏™Â®ÅËÉÅ",
      ja: "„Çπ„Ç≠„É£„É≥‰∏≠...\n> „Éï„Ç°„Ç§„É´„Ç∑„Çπ„ÉÜ„É†„ÉÅ„Çß„ÉÉ„ÇØ... OK\n> „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÊé•Á∂ö„ÉÅ„Çß„ÉÉ„ÇØ... OK\n> „Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÉÅ„Çß„ÉÉ„ÇØ... OK\nËÑÖÂ®Å„ÅØÊ§úÂá∫„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü"
    },
    lockdown: function() {
      document.body.classList.add('lockdown-mode');
      playSound('sound-glitch');
      return {
        ru: "–ê–ö–¢–ò–í–ê–¶–ò–Ø –ü–†–û–¢–û–ö–û–õ–ê LOCKDOWN\n–í—Å–µ —Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –≤ —Ä–µ–∂–∏–º –∑–∞—â–∏—Ç—ã\n–í–≤–µ–¥–∏—Ç–µ 'restore' –¥–ª—è –æ—Ç–º–µ–Ω—ã",
        en: "ACTIVATING LOCKDOWN PROTOCOL\nAll systems entering protection mode\nType 'restore' to cancel",
        zh: "ÊøÄÊ¥ªÈîÅÂÆöÂçèËÆÆ\nÊâÄÊúâÁ≥ªÁªüËøõÂÖ•‰øùÊä§Ê®°Âºè\nËæìÂÖ•'restore'ÂèñÊ∂à",
        ja: "„É≠„ÉÉ„ÇØ„ÉÄ„Ç¶„É≥„Éó„É≠„Éà„Ç≥„É´„ÇíÊúâÂäπÂåñ\n„Åô„Åπ„Å¶„ÅÆ„Ç∑„Çπ„ÉÜ„É†„Åå‰øùË≠∑„É¢„Éº„Éâ„Å´ÂÖ•„Çä„Åæ„Åô\n'restore'„Å®ÂÖ•Âäõ„Åó„Å¶„Ç≠„É£„É≥„Çª„É´"
      }[currentLang];
    },
    restore: function() {
      document.body.classList.remove('lockdown-mode');
      return {
        ru: "–†–µ–∂–∏–º –∑–∞—â–∏—Ç—ã –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω",
        en: "Protection mode deactivated",
        zh: "‰øùÊä§Ê®°ÂºèÂ∑≤ÂÅúÁî®",
        ja: "‰øùË≠∑„É¢„Éº„Éâ„ÇíÁÑ°ÂäπÂåñ„Åó„Åæ„Åó„Åü"
      }[currentLang];
    },
    about: {
      ru: "HUMO CORPORATION\n–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏\n–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å: Jurabek Kayumov\n–°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–Ω–∞",
      en: "HUMO CORPORATION\nSpecialization: Innovative technologies\nFounder: Jurabek Kayumov\nStatus: Active",
      zh: "HUMOÂÖ¨Âè∏\n‰∏ì‰∏öÈ¢ÜÂüü: ÂàõÊñ∞ÊäÄÊúØ\nÂàõÂßã‰∫∫: Jurabek Kayumov\nÁä∂ÊÄÅ: Ê¥ªË∑É",
      ja: "HUMO CORPORATION\nÂ∞ÇÈñÄÂàÜÈáé: Èù©Êñ∞ÁöÑ„Å™ÊäÄË°ì\nÂâµË®≠ËÄÖ: Jurabek Kayumov\n„Çπ„ÉÜ„Éº„Çø„Çπ: „Ç¢„ÇØ„ÉÜ„Ç£„Éñ"
    },
    redqueen: {
      ru: "RED QUEEN SYSTEM v2.4.1\n–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º—ã\n–°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–Ω–∞\n–£—Ä–æ–≤–µ–Ω—å —É–≥—Ä–æ–∑—ã: –ù–∏–∑–∫–∏–π",
      en: "RED QUEEN SYSTEM v2.4.1\nMain function: System protection\nStatus: Active\nThreat level: Low",
      zh: "Á∫¢ÂêéÁ≥ªÁªü v2.4.1\n‰∏ªË¶ÅÂäüËÉΩ: Á≥ªÁªü‰øùÊä§\nÁä∂ÊÄÅ: Ê¥ªË∑É\nÂ®ÅËÉÅÁ≠âÁ∫ß: ‰Ωé",
      ja: "„É¨„ÉÉ„Éâ„ÇØ„Ç§„Éº„É≥„Ç∑„Çπ„ÉÜ„É† v2.4.1\n‰∏ª„Å™Ê©üËÉΩ: „Ç∑„Çπ„ÉÜ„É†‰øùË≠∑\n„Çπ„ÉÜ„Éº„Çø„Çπ: ‰ΩúÂãï‰∏≠\nËÑÖÂ®Å„É¨„Éô„É´: ‰Ωé"
    },
    solardata: {
      ru: "–°–æ–ª–Ω–µ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è S1:\n- –°—Ç–∞—Ç—É—Å: ONLINE\n- –†–µ–∂–∏–º: –î–Ω–µ–≤–Ω–æ–π\n- –ú–æ—â–Ω–æ—Å—Ç—å: 2.1 –∫–í—Ç",
      en: "Solar Station S1:\n- Status: ONLINE\n- Mode: Day\n- Power: 2.1 kW",
      zh: "Â§™Èò≥ËÉΩÁ´ô S1:\n- Áä∂ÊÄÅ: Âú®Á∫ø\n- Ê®°Âºè: ÁôΩÂ§©\n- ÂäüÁéá: 2.1 ÂçÉÁì¶",
      ja: "„ÇΩ„Éº„É©„Éº„Çπ„ÉÜ„Éº„Ç∑„Éß„É≥ S1:\n- „Çπ„ÉÜ„Éº„Çø„Çπ: „Ç™„É≥„É©„Ç§„É≥\n- „É¢„Éº„Éâ: ÊòºÈñì\n- ÈõªÂäõ: 2.1 kW"
    },
    deploy_solar: {
      ru: ">> –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª '–§–æ—Ç–æ–Ω'\n>> –ò–ò Helios –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω\n>> –ü–∞–Ω–µ–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã",
      en: ">> Protocol 'Photon' activated\n>> AI Helios initialized\n>> Panels deployed",
      zh: ">> ÊøÄÊ¥ª'ÂÖâÂ≠ê'ÂçèËÆÆ\n>> ‰∫∫Â∑•Êô∫ËÉΩHeliosÂ∑≤ÂàùÂßãÂåñ\n>> Èù¢ÊùøÂ∑≤Â±ïÂºÄ",
      ja: ">> „Éó„É≠„Éà„Ç≥„É´'„Éï„Ç©„Éà„É≥'„ÇíÊúâÂäπÂåñ\n>> AI Helios„ÇíÂàùÊúüÂåñ\n>> „Éë„Éç„É´„ÇíÂ±ïÈñã„Åó„Åæ„Åó„Åü"
    }
  },
  
  execute: function(cmd) {
    cmd = cmd.toLowerCase().trim();
    
    if (cmd === '') return "";
    
    if (this.commands[cmd]) {
      if (typeof this.commands[cmd] === 'function') {
        return this.commands[cmd]();
      }
      return typeof this.commands[cmd] === 'object' 
        ? this.commands[cmd][currentLang] || this.commands[cmd].ru 
        : this.commands[cmd];
    }
    
    return {
      ru: `–ö–æ–º–∞–Ω–¥–∞ "${cmd}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –í–≤–µ–¥–∏—Ç–µ "help" –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.`,
      en: `Command "${cmd}" not found. Type "help" for commands list.`,
      zh: `Êú™ÊâæÂà∞ÂëΩ‰ª§"${cmd}"„ÄÇËæìÂÖ•"help"Êü•ÁúãÂëΩ‰ª§ÂàóË°®„ÄÇ`,
      ja: `„Ç≥„Éû„É≥„Éâ"${cmd}"„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇ"help"„Å®ÂÖ•Âäõ„Åó„Å¶„Ç≥„Éû„É≥„Éâ„É™„Çπ„Éà„ÇíË°®Á§∫„ÄÇ`
    }[currentLang];
  }
};

function toggleTerminal() {
  const terminal = document.getElementById('humoTerminal');
  terminalVisible = !terminalVisible;
  
  if (terminalVisible) {
    terminal.classList.add('visible');
    document.getElementById('terminalCommand').focus();
    playSound('sound-terminal');
    
    if (!terminalUnlocked) {
      document.getElementById('terminalCommand').type = 'password';
      document.getElementById('terminalCommand').placeholder = {
        ru: '–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞...',
        en: 'Enter access code...',
        zh: 'ËæìÂÖ•ËÆøÈóÆ‰ª£Á†Å...',
        ja: '„Ç¢„ÇØ„Çª„Çπ„Ç≥„Éº„Éâ„ÇíÂÖ•Âäõ...'
      }[currentLang];
    } else {
      document.getElementById('terminalCommand').type = 'text';
      document.getElementById('terminalCommand').placeholder = {
        ru: '–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É...',
        en: 'Enter command...',
        zh: 'ËæìÂÖ•ÂëΩ‰ª§...',
        ja: '„Ç≥„Éû„É≥„Éâ„ÇíÂÖ•Âäõ...'
      }[currentLang];
    }
  } else {
    terminal.classList.remove('visible');
  }
}

document.getElementById('terminalCommand').addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    const cmd = this.value;
    const output = document.getElementById('terminalOutput');
    
    if (!terminalUnlocked) {
      if (cmd === TERMINAL_PASSWORD) {
        terminalUnlocked = true;
        this.type = 'text';
        this.placeholder = {
          ru: '–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É...',
          en: 'Enter command...',
          zh: 'ËæìÂÖ•ÂëΩ‰ª§...',
          ja: '„Ç≥„Éû„É≥„Éâ„ÇíÂÖ•Âäõ...'
        }[currentLang];
        output.innerHTML += `<p>> Access granted. Welcome, authorized user.</p>`;
        output.innerHTML += `<p>> Type 'help' for commands list</p>`;
      } else {
        output.innerHTML += `<p>> ACCESS DENIED. INITIATING COUNTERMEASURES...</p>`;
        setTimeout(() => {
          output.innerHTML += `<p class="alert-text">> WARNING: MALICIOUS CODE DETECTED</p>`;
          document.getElementById('humoTerminal').style.borderColor = "red";
          playSound('sound-glitch');
        }, 1000);
      }
    } else {
      output.innerHTML += `<p>> ${escapeHtml(cmd)}</p>`;
      const result = Terminal.execute(cmd);
      if (result) output.innerHTML += `<p>${result.replace(/\n/g, '<br>')}</p>`;
    }
    
    this.value = '';
    output.scrollTop = output.scrollHeight;
    playSound('sound-terminal');
  }
});

document.getElementById('userInput').addEventListener('keypress', function(e) {
  if (e.key === 'Enter') handleChat();
});

document.querySelectorAll('.language-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    switchLanguage(this.dataset.lang);
  });
});

function escapeHtml(unsafe) {
  return unsafe
    .replace(/&/g, "&amp;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;")
    .replace(/"/g, "&quot;")
    .replace(/'/g, "&#039;");
}

document.addEventListener('DOMContentLoaded', function() {
  switchLanguage('ru');
  
  const savedChat = localStorage.getItem('chatHistory');
  if (savedChat) {
    document.getElementById('chatLog').innerHTML = savedChat;
  }
  
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        window.scrollTo({
          top: target.offsetTop - 20,
          behavior: 'smooth'
        });
      }
    });
  });
});